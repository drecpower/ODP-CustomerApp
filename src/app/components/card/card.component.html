<form (ngSubmit)="onSubmit()" #cardForm="ngForm">
  <div class="content" fxLayout="column">
    <div class="header light-grey-border-bottom-color" fxLayoutAlign="center center">
      <div class="heading3">{{data.cardType.name}}</div>
      <div class="close-icon">
        <mat-icon [mat-dialog-close] class="primary-color primary-color-stroke" matPrefix [svgIcon]="icons.closesmall">
        </mat-icon>
      </div>
    </div>
  </div>

  <div >
    <div class="form-group">
      <div class="item-content item-spacing" fxLayout="row" fxLayoutAlign="center center">
        <mat-form-field appearance="fill" fxFlex>
          <mat-label>Card number</mat-label>
          <input matInput type="text" class="form-control" id="number" required [(ngModel)]="card.number" (change)="detectCardType()" name="number"
            #number="ngModel">
          <div [hidden]="number.valid || number.pristine" class="alert alert-danger">
            Number is required
          </div>
        </mat-form-field>
      </div>

      <div class="item-content" fxLayout="row" fxLayoutAlign="center center">
        <mat-form-field appearance="fill" fxFlex="48">
          <mat-label>Validity</mat-label>
          <input matInput  ng-pattern="/^(0[1-9]|[1-2][0-9]|3[0-1])\/(0[1-9]|1[0-2])\/[0-9]{4}$/" type="text" class="form-control" id="validity" required [(ngModel)]="card.validity"
            name="validity" #validity="ngModel">
          <div [hidden]="validity.valid || validity.pristine" class="alert alert-danger">
            Validity is required
          </div>
        </mat-form-field>
        <div fxFlex="4">
        </div>
        <mat-form-field appearance="fill" fxFlex="48">
          <mat-label>CVV</mat-label>
          <input matInput type="text"  maxlength="3" (keypress)="validateNo($event)" class="form-control" id="cvv" required [(ngModel)]="card.cvv" name="cvv"
            #cvv="ngModel">
          <div [hidden]="cvv.valid || cvv.pristine" class="alert alert-danger">
            CVV is required
          </div>
        </mat-form-field>
      </div>
      <div class="item-content" fxLayout="row" fxLayoutAlign="center center">
        <mat-form-field appearance="fill" fxFlex>
          <mat-label>holder name</mat-label>
          <input matInput type="text" class="form-control" id="name" required [(ngModel)]="card.name" name="name"
            #name="ngModel">
          <div [hidden]="name.valid || name.pristine" class="alert alert-danger">
            Name is required
          </div>
        </mat-form-field>
      </div>

      <div class="item-content" fxLayout="row" fxLayoutAlign="center center">
        <mat-form-field appearance="fill" fxFlex>
          <mat-label>Document Number</mat-label>
          <input matInput type="text" class="form-control" id="documentNumber" required [(ngModel)]="card.documentNumber" name="documentNumber"
            #documentNumber="ngModel">
          <div [hidden]="documentNumber.valid || documentNumber.pristine" class="alert alert-danger">
            Document Number is required
          </div>
        </mat-form-field>
      </div>
      <div class="item-content" fxLayout="row" fxLayoutAlign="cenheroFormter center">
        <mat-form-field appearance="fill" fxFlex>
          <mat-label>Nickname (optional)</mat-label>
          <input matInput type="text" class="form-control" id="nickname"  [(ngModel)]="card.nickname" name="nickname">
        </mat-form-field>
      </div>
    </div>
    <div class="item-content" fxLayout="row" fxLayoutAlign="center center">
      <button mat-raised-button [mat-dialog-close]=card [disabled]="!cardForm.form.valid" color="primary">Save</button>
    </div>

  </div>
</form>
